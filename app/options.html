<!DOCTYPE html>
<html>
  <head>
    <title>Attested Website Configuration</title>
    <link rel="stylesheet" href="options.css" />
    <script type="text/javascript" src="jquery.js"></script>
  </head>
  <body>
    <div id="container">

      <h1 align="center">Configure Trusted Websites</h1>  

      <form id="form" action="javascript:void(0);">
      <table>
        <tr>
            <td>Origin</td>
            <td width="600"><input type="text" id="origin" /></td>
        </tr>
        <tr>
            <td>CPU Attestation Service Keys</td>
            <td width="600"><input type="text" id="cpu_jwks" value="https://sharedeus2.eus2.attest.azure.net/certs" /></td>
        </tr>
        <tr>
            <td>CPU Attestation Policy</td>
            <td><textarea id="cpu_policy">
{
    "x-ms-ver": {"=":"1.0"},
    "x-ms-attestation-type": {"=":"sevsnpvm"},
    "x-ms-sevsnpvm-is-debuggable": {"=":false},
    "x-ms-sevsnpvm-idkeydigest": {"=":"ecf24f935d46435a609cce7255e499464479621a46c3d49e33e2f1e3a6c0479793ad87c10401fb2db842500f23c69a6a"},
    "x-ms-sevsnpvm-launchmeasurement": {"=":"c8817a4c5d75f9a1c1187edc768fec25a4451f5ae33af181ed8857999f7bf1abe5b68a5e88a60ffdb023d911a0b30059"},
    "x-ms-sevsnpvm-bootloader-svn": {">=":7},
    "x-ms-sevsnpvm-guestsvn": {">=":65540},
    "x-ms-sevsnpvm-microcode-svn": {">=":22},
    "x-ms-sevsnpvm-snpfw-svn": {">=":11}
}
            </textarea></td>
        </tr>
        <tr>
            <td>GPU Attestation Service Keys</td>
            <td width="600"><input type="text" id="gpu_jwks" value="https://nras.attestation.nvidia.com/.well-known/jwks.json" /></td>
        </tr>
        <tr>
            <td>GPU Attestation Policy</td>
            <td><textarea id="gpu_policy">
{
    "x-nvidia-attestation-type": {"=":"GPU"},
    "x-nvidia-gpu-manufacturer":{"=":"NVIDIA Corporation"},
    "hwmodel": {"=":"GH100 A01 GSP BROM"},
    "measres": {"=":"comparison-successful"},
    "x-nvidia-gpu-vbios-version": {">=":"96.00.5E.00.01"},
    "x-nvidia-gpu-driver-version": {">=":"535.104.05"},
    "eat_nonce": {"=":"$WEBSITE_PUBLIC_KEY$"}
}
            </textarea></td>
        </tr>
      </table>

      <button id="save">Save Website</button>
      <button id="load">Load Website</button>
      <select id="websites">
        <option value="">(new website)</option>
      </select>
      <button id="remove">Remove Website</button>
    </form>
    <div id="status"></div>
    </div>
    <script src="options.js"></script>
  </body>
</html>